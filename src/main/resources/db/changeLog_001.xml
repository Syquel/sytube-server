<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
		xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
		xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.4.xsd  http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<changeSet id="1" author="cbartz">
		<ext:createCollection collectionName="Video">
			<ext:options>
				{
					validator: {
						$jsonSchema: {
							bsonType: "object",
							required: ["title", "description", "dashManifest"],
							properties: {
								title: {
									bsonType: "string",
									description: "The Title"
								},
								description: {
									bsonType: "string",
									description: "The Description"
								},
								dashManifest: {
									bsonType: "object",
									required: ["blobName"],
									properties: {
										blobName: {
											bsonType: "string",
											description: "The blobName"
										}
									}
								}
							}
						}
					},
					validationAction: "error",
					validationLevel: "strict"
				}
			</ext:options>
		</ext:createCollection>
	</changeSet>

</databaseChangeLog>
